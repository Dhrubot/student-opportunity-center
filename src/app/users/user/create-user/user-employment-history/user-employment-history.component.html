<!-- Employment History -->
<h3>Employment History</h3>
<ng-container [formGroup]="service.form">
  <div
    formArrayName="employmentHistory"
    *ngFor="let _ of employmentHistory.controls; let i = index"
  >
    <div
      fxLayout="row wrap"
      fxLayout.xs="column"
      fxLayoutAlign="space-around start"
      formGroupName="address"
      [formGroupName]="i"
    >
      <div fxLayout="column" fxLayoutAlign="space-around start">
        <mat-form-field>
          <input
            formControlName="companyName"
            matInput
            placeholder="Copmany Name"
          />
        </mat-form-field>
        <mat-form-field>
          <input
            formControlName="companyAddress"
            matInput
            placeholder="Company Address"
          />
        </mat-form-field>
        <mat-form-field>
          <input
            formControlName="companyPhoneNumber"
            matInput
            placeholder="company contact no"
          />
        </mat-form-field>
      </div>

      <div fxLayout="column" fxLayoutAlign="space-around start">
        <mat-form-field>
          <input formControlName="jobTitle" matInput placeholder="Title" />
        </mat-form-field>
        <mat-form-field>
          <input
            matInput
            [matDatepicker]="picker1"
            formControlName="startDate"
            matInput
            placeholder="Job Started"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker1"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </mat-form-field>
        <mat-checkbox formControlName="isCurrentJob" #isCurrentJob
          >Currently Working</mat-checkbox
        >
        <mat-form-field *ngIf="!isCurrentJob.checked">
          <input
            matInput
            [matDatepicker]="picker2"
            formControlName="endDate"
            matInput
            placeholder="Job Left"
          />
          <mat-datepicker-toggle
            matSuffix
            [for]="picker2"
          ></mat-datepicker-toggle>
          <mat-datepicker #picker2></mat-datepicker>
        </mat-form-field>
        <mat-form-field>
          <input
            formControlName="reasonForLeaving"
            matInput
            placeholder="Reason for Leaving..."
          />
        </mat-form-field>
      </div>
    </div>
    <button
      mat-button
      type="button"
      color="secondary"
      (click)="addEmploymentHistoryForm()"
    >
      Add More
    </button>
    <button
      mat-button
      type="button"
      color="warn"
      (click)="deleteEmploymentHistoryForm(i)"
      *ngIf="employmentHistory.controls.length > 1"
    >
      DELETE
    </button>
    <mat-divider></mat-divider>
  </div>
</ng-container>

<div class="stepper-button" align="end">
  <button type="button" mat-button matStepperPrevious>Back</button>
  <button type="button" mat-button matStepperNext>Next</button>
</div>
